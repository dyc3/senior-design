<svg aria-roledescription="classDiagram" role="graphics-document document" viewBox="-8 -8 948.40625 1348.5" style="max-width: 948.406px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#666;stroke:#666;}#my-svg .marker.cross{stroke:#666;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg g.classGroup text{fill:#999;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#my-svg g.classGroup text .title{font-weight:bolder;}#my-svg .nodeLabel,#my-svg .edgeLabel{color:#111111;}#my-svg .edgeLabel .label rect{fill:#eee;}#my-svg .label text{fill:#111111;}#my-svg .edgeLabel .label span{background:#eee;}#my-svg .classTitle{font-weight:bolder;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#eee;stroke:#999;stroke-width:1px;}#my-svg .divider{stroke:#999;stroke-width:1;}#my-svg g.clickable{cursor:pointer;}#my-svg g.classGroup rect{fill:#eee;stroke:#999;}#my-svg g.classGroup line{stroke:#999;stroke-width:1;}#my-svg .classLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#my-svg .classLabel .label{fill:#999;font-size:10px;}#my-svg .relation{stroke:#666;stroke-width:1;fill:none;}#my-svg .dashed-line{stroke-dasharray:3;}#my-svg .dotted-line{stroke-dasharray:1 2;}#my-svg #compositionStart,#my-svg .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #compositionEnd,#my-svg .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #dependencyStart,#my-svg .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #dependencyStart,#my-svg .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #extensionStart,#my-svg .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #extensionEnd,#my-svg .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #aggregationStart,#my-svg .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #aggregationEnd,#my-svg .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #lollipopStart,#my-svg .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#my-svg #lollipopEnd,#my-svg .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#my-svg .edgeTerminals{font-size:11px;}#my-svg .classTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker aggregation classDiagram" id="my-svg_classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker aggregation classDiagram" id="my-svg_classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker extension classDiagram" id="my-svg_classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker extension classDiagram" id="my-svg_classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker composition classDiagram" id="my-svg_classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker composition classDiagram" id="my-svg_classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="6" class="marker dependency classDiagram" id="my-svg_classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="13" class="marker dependency classDiagram" id="my-svg_classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="13" class="marker lollipop classDiagram" id="my-svg_classDiagram-lollipopStart"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="1" class="marker lollipop classDiagram" id="my-svg_classDiagram-lollipopEnd"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id1" d="M458.873046875,88L458.873046875,93.70833333333333C458.873046875,99.41666666666667,458.873046875,110.83333333333333,458.873046875,123.125C458.873046875,135.41666666666666,458.873046875,148.58333333333334,458.873046875,155.16666666666666L458.873046875,161.75"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id2" d="M458.873046875,247.75L458.873046875,255.33333333333334C458.873046875,262.9166666666667,458.873046875,278.0833333333333,472.66013771813647,295.13829016352435C486.447228561273,312.1932469937153,514.0214102475459,331.1364939874307,527.8085010906824,340.60811748428836L541.5955919338188,350.079740981146"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id3" d="M760.705078125,259L760.705078125,264.7083333333333C760.705078125,270.4166666666667,760.705078125,281.8333333333333,748.9920000165388,296.28851151170596C737.2789219080775,310.7436896900786,713.852765691155,328.2373793801573,702.1396875826939,336.9842242251966L690.4266094742326,345.73106907023595"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id4" d="M260.5333478009259,673.25L277.3253158757716,684.5833333333334C294.11728395061726,695.9166666666666,327.7012201003086,718.5833333333334,348.4078497468756,734.8421411941986C369.11447939344254,751.1009490550638,376.94380253688513,760.9518981101278,380.8584641086065,765.8773726376597L384.7731256803277,770.8028471651917"/><path marker-start="url(#my-svg_classDiagram-compositionStart)" style="fill:none" class="edge-pattern-solid relation" id="id5" d="M616.080078125,725L616.080078125,727.7083333333334C616.080078125,730.4166666666666,616.080078125,735.8333333333334,608.4202569499039,744.25C600.7604357748078,752.6666666666666,585.4407934246157,764.0833333333334,577.7809722495196,769.7916666666666L570.1211510744234,775.5"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" marker-start="url(#my-svg_classDiagram-dependencyStart)" style="fill:none" class="edge-pattern-solid relation" id="id6" d="M616.080078125,481L616.080078125,487.0416666666667C616.080078125,493.0833333333333,616.080078125,505.1666666666667,616.080078125,517.25C616.080078125,529.3333333333334,616.080078125,541.4166666666666,616.080078125,547.4583333333334L616.080078125,553.5"/><path marker-start="url(#my-svg_classDiagram-aggregationStart)" style="fill:none" class="edge-pattern-solid relation" id="id7" d="M160.4921875,1145.75L160.4921875,1150.3333333333333C160.4921875,1154.9166666666667,160.4921875,1164.0833333333333,160.4921875,1176.25C160.4921875,1188.4166666666667,160.4921875,1203.5833333333333,160.4921875,1211.1666666666667L160.4921875,1218.75"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id8" d="M101.0625,900.5L101.0625,913.7083333333334C101.0625,926.9166666666666,101.0625,953.3333333333334,105.19723847506272,973.2729143694637C109.33197695012545,993.2124954055939,117.60145390025087,1006.6749908111879,121.73619237531359,1013.4062385139849L125.87093085037631,1020.1374862167819"/><path marker-start="url(#my-svg_classDiagram-aggregationStart)" style="fill:none" class="edge-pattern-solid relation" id="id9" d="M359.23887060134916,958.2910328287571L355.69775675112425,961.8675273572976C352.15664290089944,965.4440218858381,345.0744152004497,972.597010942919,327.6207259841611,983.7568388047929C310.1670367678725,994.9166666666666,282.34188603574506,1010.0833333333334,268.42931066968134,1017.6666666666666L254.51673530361757,1025.25"/><path marker-start="url(#my-svg_classDiagram-aggregationStart)" style="fill:none" class="edge-pattern-solid relation" id="id10" d="M572.6966724310623,956.9725267144107L577.2862895258853,960.768772262009C581.8759066207082,964.5650178096072,591.0551408103541,972.1575089048036,595.644757905177,992.0787544524018C600.234375,1012,600.234375,1044.25,600.234375,1076.5C600.234375,1108.75,600.234375,1141,621.224609375,1167.368859726902C642.21484375,1193.737719453804,684.1953125,1214.2254389076077,705.185546875,1224.4692986345096L726.17578125,1234.7131583614116"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id11" d="M838.94921875,911.75L838.94921875,923.0833333333334C838.94921875,934.4166666666666,838.94921875,957.0833333333334,838.94921875,973.125C838.94921875,989.1666666666666,838.94921875,998.5833333333334,838.94921875,1003.2916666666666L838.94921875,1008"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id12" d="M838.94921875,1139L838.94921875,1144.7083333333333C838.94921875,1150.4166666666667,838.94921875,1161.8333333333333,836.9474121660564,1172.327452909052C834.9456055821129,1182.8215724847707,830.9419924142258,1192.3931449695417,828.9401858302822,1197.1789312119272L826.9383792463387,1201.9647174543127"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id13" d="M768.2708107277199,707L780.0505453980999,712.7083333333334C791.83028006848,718.4166666666666,815.3897494092399,729.8333333333334,827.1694840796199,745.875C838.94921875,761.9166666666666,838.94921875,782.5833333333334,838.94921875,792.9166666666666L838.94921875,803.25"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id14" d="M420.490234375,674.2654993192739L367.2522786458333,685.4295827660616C314.0143229166667,696.5936662128493,207.53841145833334,718.9218331064245,154.30045572916666,742.2942498865456C101.0625,765.6666666666666,101.0625,790.0833333333334,101.0625,802.2916666666666L101.0625,814.5"/><path style="fill:none" class="edge-pattern-dotted relation" id="edgeNote15" d="M760.705078125,64.75L760.705078125,74.33333333333333C760.705078125,83.91666666666667,760.705078125,103.08333333333333,760.705078125,118.375C760.705078125,133.66666666666666,760.705078125,145.08333333333334,760.705078125,150.79166666666666L760.705078125,156.5"/></g><g class="edgeLabels"><g transform="translate(458.873046875, 122.25)" class="edgeLabel"><g transform="translate(-89.04296875, -9.25)" class="label"><rect height="18.750431060791016" width="178.0723876953125" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">sends connection configs</tspan></text></g></g><g transform="translate(443.8730484375, 105.5000013392857)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(468.8730484374999, 145.25000133928572)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(458.873046875, 293.25)" class="edgeLabel"><g transform="translate(-127.25390625, -9.25)" class="label"><rect height="18.750431060791016" width="254.48228454589844" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">sends new monolith websockets via</tspan></text></g></g><g transform="translate(443.8730484375, 265.2500013392857)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(535.6105307024358, 326.2043695828142)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(760.705078125, 293.25)" class="edgeLabel"><g transform="translate(-115.98046875, -9.25)" class="label"><rect height="18.750431060791016" width="231.94207763671875" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">sends new client websockets via</tspan></text></g></g><g transform="translate(745.4068580934711, 276.0896330684738)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(703.6159738611666, 345.8688726309886)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(361.28515625, 741.25)" class="edgeLabel"><g transform="translate(-62.125, -9.25)" class="label"><rect height="18.750431060791016" width="124.24050903320312" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">selects monoliths</tspan></text></g></g><g transform="translate(266.6472402717953, 695.4731931701255)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(384.36071275914577, 747.4669785849238)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(600.7816414639436, 724.0891435269984)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(588.1164554984147, 772.0703585289963)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(616.080078125, 517.25)" class="edgeLabel"><g transform="translate(-164.85546875, -17.25)" class="label"><rect height="34.75042724609375" width="329.6824645996094" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">sends inbound msgs via channels,</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">receives channel Receivers for outbound msgs</tspan></text></g></g><g transform="translate(601.0800790625, 492.5000008035714)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(626.0800790625, 537.0000008035714)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(160.4921875, 1173.25)" class="edgeLabel"><g transform="translate(-28.53125, -9.25)" class="label"><rect height="18.750431060791016" width="57.064064025878906" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Collects</tspan></text></g></g><g transform="translate(145.49218875000003, 1145.2500010714286)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(170.49218874999997, 1196.2500010714286)" class="edgeTerminals"><g transform="translate(-8.9453125, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">0..*</tspan></text></g><g transform="translate(101.0625, 979.75)" class="edgeLabel"><g transform="translate(-71.15234375, -9.25)" class="label"><rect height="18.750431060791016" width="142.2915802001953" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">consumed to create</tspan></text></g></g><g transform="translate(86.0625, 918)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(127.63308723660145, 997.4874641374631)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g><g transform="translate(337.9921875, 979.75)" class="edgeLabel"><g transform="translate(-27.70703125, -9.25)" class="label"><rect height="18.750431060791016" width="55.41017150878906" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">collects</tspan></text></g></g><g transform="translate(348.93146960198465, 947.3819777424443)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(272.06127180896306, 1025.045193919733)" class="edgeTerminals"><g transform="translate(-8.9453125, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">0..*</tspan></text></g><g transform="translate(600.234375, 1076.5)" class="edgeLabel"><g transform="translate(-27.70703125, -9.25)" class="label"><rect height="18.750431060791016" width="55.41017150878906" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">collects</tspan></text></g></g><g transform="translate(562.7509510484252, 968.2123054448399)" class="edgeTerminals"><g transform="translate(-2.88671875, -6.5)" class="inner"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">1</tspan></text></g></g><g transform="translate(712.0275273972123, 1208.5575565719778)" class="edgeTerminals"><g transform="translate(-8.9453125, -6.5)" class="inner"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">0..*</tspan></text></g><g transform="translate(838.94921875, 979.75)" class="edgeLabel"><g transform="translate(-93.45703125, -9.25)" class="label"><rect height="18.750431060791016" width="186.8994598388672" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">when auth token received</tspan></text></g></g><g transform="translate(838.94921875, 1173.25)" class="edgeLabel"><g transform="translate(-71.15234375, -9.25)" class="label"><rect height="18.750431060791016" width="142.2915802001953" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">consumed to create</tspan></text></g></g><g transform="translate(838.94921875, 741.25)" class="edgeLabel"><g transform="translate(-83.3203125, -9.25)" class="label"><rect height="18.750431060791016" width="166.62744140625" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">create upon websocket</tspan></text></g></g><g transform="translate(101.0625, 741.25)" class="edgeLabel"><g transform="translate(-83.3203125, -9.25)" class="label"><rect height="18.750431060791016" width="166.62744140625" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">create upon websocket</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g></g><g class="nodes"><g transform="translate(616.080078125, 633.25)" id="classId-Balancer-0" class="node default"><rect height="147.5" width="391.1796875" y="-73.75" x="-195.58984375" class="outer title-state"/><line y2="-43.25" y1="-43.25" x2="195.58984375" x1="-195.58984375" class="divider"/><line y2="17.75" y1="17.75" x2="195.58984375" x1="-195.58984375" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -32.4765625, -66.25)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">Balancer</tspan></text><text transform="translate( -188.08984375, -31.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">ctx: Arc&lt;RwLock&lt;BalancerContext&gt;&gt;</tspan></text><text transform="translate( -188.08984375, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">...[channels for receiving new nodes, and messages]</tspan></text><text transform="translate( -188.08984375, 25.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">new_link() : : BalancerLink</tspan></text><text transform="translate( -188.08984375, 47.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">dispatch_loop()</tspan></text></g></g><g transform="translate(458.873046875, 48)" id="classId-MonolithDiscoverer-1" class="node default"><rect height="80" width="159.484375" y="-40" x="-79.7421875" class="outer title-state"/><line y2="13" y1="13" x2="79.7421875" x1="-79.7421875" class="divider"/><line y2="29" y1="29" x2="79.7421875" x1="-79.7421875" class="divider"/><g class="label"><text transform="translate( -24.328125, -32.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">«trait»</tspan></text><text transform="translate( -72.2421875, -10)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithDiscoverer</tspan></text></g></g><g transform="translate(458.873046875, 207.75)" id="classId-MonolithConnectionManager-2" class="node default"><rect height="80" width="227.0078125" y="-40" x="-113.50390625" class="outer title-state"/><line y2="-9.5" y1="-9.5" x2="113.50390625" x1="-113.50390625" class="divider"/><line y2="29" y1="29" x2="113.50390625" x1="-113.50390625" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -106.00390625, -32.5)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithConnectionManager</tspan></text><text transform="translate( -106.00390625, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">link: BalancerLink</tspan></text></g></g><g transform="translate(616.080078125, 401.25)" id="classId-BalancerLink-3" class="node default"><rect height="147.5" width="139.078125" y="-73.75" x="-69.5390625" class="outer title-state"/><line y2="-43.25" y1="-43.25" x2="69.5390625" x1="-69.5390625" class="divider"/><line y2="62.75" y1="62.75" x2="69.5390625" x1="-69.5390625" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -48.390625, -66.25)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">BalancerLink</tspan></text><text transform="translate( -62.0390625, -31.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">new_client_tx</tspan></text><text transform="translate( -62.0390625, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">client_msg_tx</tspan></text><text transform="translate( -62.0390625, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">new_monolith_tx</tspan></text><text transform="translate( -62.0390625, 35.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monolith_msg_tx</tspan></text></g></g><g transform="translate(760.705078125, 207.75)" id="classId-BalancerService-4" class="node default"><rect height="102.5" width="276.65625" y="-51.25" x="-138.328125" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="138.328125" x1="-138.328125" class="divider"/><line y2="40.25" y1="40.25" x2="138.328125" x1="-138.328125" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -60.12890625, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">BalancerService</tspan></text><text transform="translate( -130.828125, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">ctx: Arc&lt;RwLock&lt;BalancerContext&gt;&gt;</tspan></text><text transform="translate( -130.828125, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">link: BalancerLink</tspan></text></g></g><g transform="translate(101.0625, 860.5)" id="classId-NewMonolith-5" class="node default"><rect height="80" width="186.125" y="-40" x="-93.0625" class="outer title-state"/><line y2="-9.5" y1="-9.5" x2="93.0625" x1="-93.0625" class="divider"/><line y2="29" y1="29" x2="93.0625" x1="-93.0625" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -48.60546875, -32.5)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">NewMonolith</tspan></text><text transform="translate( -85.5625, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monolith_id: MonolithId</tspan></text></g></g><g transform="translate(201.267578125, 633.25)" id="classId-MonolithSelection-6" class="node default"><rect height="80" width="148.890625" y="-40" x="-74.4453125" class="outer title-state"/><line y2="13" y1="13" x2="74.4453125" x1="-74.4453125" class="divider"/><line y2="29" y1="29" x2="74.4453125" x1="-74.4453125" class="divider"/><g class="label"><text transform="translate( -24.328125, -32.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">«trait»</tspan></text><text transform="translate( -66.9453125, -10)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithSelection</tspan></text></g></g><g transform="translate(456.0625, 860.5)" id="classId-BalancerContext-7" class="node default"><rect height="170" width="423.875" y="-85" x="-211.9375" class="outer title-state"/><line y2="-54.5" y1="-54.5" x2="211.9375" x1="-211.9375" class="divider"/><line y2="74" y1="74" x2="211.9375" x1="-211.9375" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -61.98046875, -77.5)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">BalancerContext</tspan></text><text transform="translate( -204.4375, -43)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">clients: HashMap&lt;ClientId-BalancerClient&gt;,</tspan></text><text transform="translate( -204.4375, -20.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monoliths: HashMap&lt;MonolithId-BalancerMonolith&gt;,</tspan></text><text transform="translate( -204.4375, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">rooms_to_monoliths: HashMap&lt;RoomName-MonolithId&gt;,</tspan></text><text transform="translate( -204.4375, 24.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monoliths_by_region: HashMap&lt;String-Vec&lt;MonolithId&gt;&gt;,</tspan></text><text transform="translate( -204.4375, 47)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monolith_selection: Box&lt;MonolithSelection&gt;,</tspan></text></g></g><g transform="translate(160.4921875, 1076.5)" id="classId-BalancerMonolith-8" class="node default"><rect height="102.5" width="275.0546875" y="-51.25" x="-137.52734375" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="137.52734375" x1="-137.52734375" class="divider"/><line y2="40.25" y1="40.25" x2="137.52734375" x1="-137.52734375" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -64.875, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">BalancerMonolith</tspan></text><text transform="translate( -130.02734375, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monolith_id: MonolithId</tspan></text><text transform="translate( -130.02734375, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">rooms: Hashmap&lt;RoomName-Room&gt;</tspan></text></g></g><g transform="translate(160.4921875, 1270)" id="classId-Room-9" class="node default"><rect height="102.5" width="171.015625" y="-51.25" x="-85.5078125" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="85.5078125" x1="-85.5078125" class="divider"/><line y2="40.25" y1="40.25" x2="85.5078125" x1="-85.5078125" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -20.81640625, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">Room</tspan></text><text transform="translate( -78.0078125, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">name: RoomName</tspan></text><text transform="translate( -78.0078125, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">clients: Vec&lt;ClientId&gt;</tspan></text></g></g><g transform="translate(798.48046875, 1270)" id="classId-BalancerClient-10" class="node default"><rect height="125" width="144.609375" y="-62.5" x="-72.3046875" class="outer title-state"/><line y2="-32" y1="-32" x2="72.3046875" x1="-72.3046875" class="divider"/><line y2="51.5" y1="51.5" x2="72.3046875" x1="-72.3046875" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -54.609375, -55)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">BalancerClient</tspan></text><text transform="translate( -64.8046875, -20.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">client_id: ClientId</tspan></text><text transform="translate( -64.8046875, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">room: RoomName</tspan></text><text transform="translate( -64.8046875, 24.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">token: String</tspan></text></g></g><g transform="translate(838.94921875, 860.5)" id="classId-UnauthorizedClient-11" class="node default"><rect height="102.5" width="160.9609375" y="-51.25" x="-80.48046875" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="80.48046875" x1="-80.48046875" class="divider"/><line y2="40.25" y1="40.25" x2="80.48046875" x1="-80.48046875" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -72.98046875, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">UnauthorizedClient</tspan></text><text transform="translate( -72.98046875, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">client_id: ClientId</tspan></text><text transform="translate( -72.98046875, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">room: RoomName</tspan></text></g></g><g transform="translate(838.94921875, 1076.5)" id="classId-NewClient-12" class="node default"><rect height="125" width="144.609375" y="-62.5" x="-72.3046875" class="outer title-state"/><line y2="-32" y1="-32" x2="72.3046875" x1="-72.3046875" class="divider"/><line y2="51.5" y1="51.5" x2="72.3046875" x1="-72.3046875" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -38.33984375, -55)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">NewClient</tspan></text><text transform="translate( -64.8046875, -20.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">client_id: ClientId</tspan></text><text transform="translate( -64.8046875, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">room: RoomName</tspan></text><text transform="translate( -64.8046875, 24.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">token: String</tspan></text></g></g><g transform="translate(760.705078125, 48)" id="note0" class="node undefined"><rect height="33.5" width="114.2421875" y="-16.75" x="-57.12109375" ry="0" rx="0"/><g transform="translate(-49.62109375, -9.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Handles HTTP</tspan></text></g></g></g></g></g></svg>