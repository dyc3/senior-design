<svg aria-roledescription="classDiagram" role="graphics-document document" viewBox="-8 -8 1252.16015625 842" style="max-width: 1252.16px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#666;stroke:#666;}#my-svg .marker.cross{stroke:#666;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg g.classGroup text{fill:#999;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#my-svg g.classGroup text .title{font-weight:bolder;}#my-svg .nodeLabel,#my-svg .edgeLabel{color:#111111;}#my-svg .edgeLabel .label rect{fill:#eee;}#my-svg .label text{fill:#111111;}#my-svg .edgeLabel .label span{background:#eee;}#my-svg .classTitle{font-weight:bolder;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#eee;stroke:#999;stroke-width:1px;}#my-svg .divider{stroke:#999;stroke-width:1;}#my-svg g.clickable{cursor:pointer;}#my-svg g.classGroup rect{fill:#eee;stroke:#999;}#my-svg g.classGroup line{stroke:#999;stroke-width:1;}#my-svg .classLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#my-svg .classLabel .label{fill:#999;font-size:10px;}#my-svg .relation{stroke:#666;stroke-width:1;fill:none;}#my-svg .dashed-line{stroke-dasharray:3;}#my-svg .dotted-line{stroke-dasharray:1 2;}#my-svg #compositionStart,#my-svg .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #compositionEnd,#my-svg .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #dependencyStart,#my-svg .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #dependencyStart,#my-svg .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#my-svg #extensionStart,#my-svg .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #extensionEnd,#my-svg .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #aggregationStart,#my-svg .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #aggregationEnd,#my-svg .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#my-svg #lollipopStart,#my-svg .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#my-svg #lollipopEnd,#my-svg .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#my-svg .edgeTerminals{font-size:11px;}#my-svg .classTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker aggregation classDiagram" id="my-svg_classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker aggregation classDiagram" id="my-svg_classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker extension classDiagram" id="my-svg_classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker extension classDiagram" id="my-svg_classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker composition classDiagram" id="my-svg_classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker composition classDiagram" id="my-svg_classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="6" class="marker dependency classDiagram" id="my-svg_classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="13" class="marker dependency classDiagram" id="my-svg_classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="13" class="marker lollipop classDiagram" id="my-svg_classDiagram-lollipopStart"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="1" class="marker lollipop classDiagram" id="my-svg_classDiagram-lollipopEnd"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id1" d="M923.576171875,190.62927261962477L949.2281901041666,197.98272718302064C974.8802083333334,205.33618174641651,1026.1842447916667,220.04309087320826,1051.8362630208333,232.10487876993747C1077.48828125,244.16666666666666,1077.48828125,253.58333333333334,1077.48828125,258.2916666666667L1077.48828125,263"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id2" d="M622.248046875,200.5L622.248046875,206.20833333333334C622.248046875,211.91666666666666,622.248046875,223.33333333333334,622.248046875,243.29166666666666C622.248046875,263.25,622.248046875,291.75,622.248046875,320.25C622.248046875,348.75,622.248046875,377.25,627.0524099260903,396.48808673174807C631.8567729771804,415.726173463496,641.4654990793608,425.70234692699205,646.2698621304511,430.6904336587401L651.0742251815412,435.67852039048813"/><path marker-end="url(#my-svg_classDiagram-compositionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id3" d="M1095.9589329769738,371.5L1098.016233209978,377.2083333333333C1100.0735334429826,382.9166666666667,1104.1881339089912,394.3333333333333,1106.2454341419955,421.7916666666667C1108.302734375,449.25,1108.302734375,492.75,1108.302734375,536.25C1108.302734375,579.75,1108.302734375,623.25,1068.768160479445,655.6142633125943C1029.2335865838902,687.9785266251887,950.1644387927801,709.2070532503773,910.6298648972252,719.8213165629714L871.0952910016701,730.4355798755658"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id4" d="M971.7102293494152,371.5L959.928446332846,377.2083333333333C948.1466633162768,382.9166666666667,924.5830972831385,394.3333333333333,906.8663656739409,405.10124517494796C889.1496340647433,415.8691570165626,877.2797368794867,425.98831403312516,871.3447882868583,431.0478925414065L865.40983969423,436.1074710496878"/><path marker-end="url(#my-svg_classDiagram-aggregationEnd)" style="fill:none" class="edge-pattern-solid relation" id="id5" d="M322.1198290828544,598.75L342.839766423212,610.0833333333334C363.5597037635696,621.4166666666666,404.99957844428474,644.0833333333334,455.4850554204718,664.9682331819673C505.9705323966588,685.8531330306013,565.5016116683175,704.9562660612024,595.267151304147,714.5078325765031L625.0326909399763,724.0593990918038"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id6" d="M320.919921875,181.26989617722555L286.0478515625,190.18324681435465C251.17578125,199.0965974514837,181.431640625,216.92329872574183,146.5595703125,240.08664936287093C111.6875,263.25,111.6875,291.75,111.6875,320.25C111.6875,348.75,111.6875,377.25,119.4460127613325,402.0283071745642C127.204525522665,426.80661434912844,142.72155104532996,447.86322869825676,150.48006380666246,458.39153587282095L158.23857656799495,468.91984304738514"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id7" d="M196.43137122844828,598.75L194.35980154454023,610.0833333333334C192.28823186063218,621.4166666666666,188.14509249281608,644.0833333333334,186.07352280890805,660.125C184.001953125,676.1666666666666,184.001953125,685.5833333333334,184.001953125,690.2916666666666L184.001953125,695"/><path marker-end="url(#my-svg_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id8" d="M747.94140625,632.5L747.94140625,638.2083333333334C747.94140625,643.9166666666666,747.94140625,655.3333333333334,747.94140625,667.625C747.94140625,679.9166666666666,747.94140625,693.0833333333334,747.94140625,699.6666666666666L747.94140625,706.25"/><path style="fill:none" class="edge-pattern-dotted relation" id="edgeNote9" d="M333.548828125,345L333.548828125,355.125C333.548828125,365.25,333.548828125,385.5,322.6329297373882,406.9583333333333C311.7170313497765,428.4166666666667,289.885234574553,451.0833333333333,278.96933618694123,462.4166666666667L268.0534377993295,473.75"/></g><g class="edgeLabels"><g transform="translate(1077.48828125, 234.75)" class="edgeLabel"><g transform="translate(-19.66796875, -9.25)" class="label"><rect height="18.367279052734375" width="39.32993698120117" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">sends</tspan></text></g></g><g transform="translate(622.248046875, 320.25)" class="edgeLabel"><g transform="translate(-112.484375, -9.25)" class="label"><rect height="18.453298568725586" width="224.91183471679688" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">connected via one way channel</tspan></text></g></g><g transform="translate(1108.302734375, 536.25)" class="edgeLabel"><g transform="translate(-27.70703125, -9.25)" class="label"><rect height="18.367279052734375" width="55.40130615234375" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">collects</tspan></text></g></g><g transform="translate(901.01953125, 405.75)" class="edgeLabel"><g transform="translate(-41.62890625, -9.25)" class="label"><rect height="18.453298568725586" width="83.23921203613281" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">received by</tspan></text></g></g><g transform="translate(446.439453125, 666.75)" class="edgeLabel"><g transform="translate(-27.70703125, -9.25)" class="label"><rect height="18.367279052734375" width="55.40130615234375" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">collects</tspan></text></g></g><g transform="translate(111.6875, 320.25)" class="edgeLabel"><g transform="translate(-16.12109375, -9.25)" class="label"><rect height="18.367279052734375" width="32.24256134033203" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">calls</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(747.94140625, 666.75)" class="edgeLabel"><g transform="translate(-15.2109375, -9.25)" class="label"><rect height="18.367279052734375" width="30.420806884765625" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">uses</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g></g><g class="nodes"><g transform="translate(207.85546875, 536.25)" id="classId-MonolithDiscoverer-0" class="node default"><rect height="125" width="399.7109375" y="-62.5" x="-199.85546875" class="outer title-state"/><line y2="-9.5" y1="-9.5" x2="199.85546875" x1="-199.85546875" class="divider"/><line y2="6.5" y1="6.5" x2="199.85546875" x1="-199.85546875" class="divider"/><g class="label"><text transform="translate( -24.328125, -55)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">«trait»</tspan></text><text transform="translate( -72.2421875, -32.5)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithDiscoverer</tspan></text><text transform="translate( -192.35546875, 14)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+discover() : Result&lt;Vec&lt;MonolithConnectionConfig&gt;&gt;</tspan></text><text transform="translate( -192.35546875, 36.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+mode() : DiscoveryMode</tspan></text></g></g><g transform="translate(184.001953125, 763.5)" id="classId-DiscoveryMode-1" class="node default"><rect height="125" width="126.65625" y="-62.5" x="-63.328125" class="outer title-state"/><line y2="-9.5" y1="-9.5" x2="63.328125" x1="-63.328125" class="divider"/><line y2="51.5" y1="51.5" x2="63.328125" x1="-63.328125" class="divider"/><g class="label"><text transform="translate( -28.13671875, -55)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">«enum»</tspan></text><text transform="translate( -55.828125, -32.5)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">DiscoveryMode</tspan></text><text transform="translate( -55.828125, 2)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+Polling</tspan></text><text transform="translate( -55.828125, 24.5)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+Continuous</tspan></text></g></g><g transform="translate(622.248046875, 104.25)" id="classId-DiscoveryTask-2" class="node default"><rect height="192.5" width="602.65625" y="-96.25" x="-301.328125" class="outer title-state"/><line y2="-65.75" y1="-65.75" x2="301.328125" x1="-301.328125" class="divider"/><line y2="17.75" y1="17.75" x2="301.328125" x1="-301.328125" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -52.1953125, -88.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">DiscoveryTask</tspan></text><text transform="translate( -293.828125, -54.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">discovery: dyn MonolithDiscovery</tspan></text><text transform="translate( -293.828125, -31.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monoliths: HashSet&lt;MonolithConnectionConfig&gt;</tspan></text><text transform="translate( -293.828125, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">discovery_tx: Sender&lt;MonolithDiscoveryMsg&gt;</tspan></text><text transform="translate( -293.828125, 25.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+new(discovery: MonolithDiscovery, discovery_tx: Sender&lt;MonolithDiscoveryMsg&gt;)</tspan></text><text transform="translate( -293.828125, 47.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+do_continuous_discovery()</tspan></text><text transform="translate( -293.828125, 70.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">-do_discovery()</tspan></text></g></g><g transform="translate(1077.48828125, 320.25)" id="classId-MonolithDiscoveryMsg-3" class="node default"><rect height="102.5" width="317.34375" y="-51.25" x="-158.671875" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="158.671875" x1="-158.671875" class="divider"/><line y2="40.25" y1="40.25" x2="158.671875" x1="-158.671875" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -81.91796875, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithDiscoveryMsg</tspan></text><text transform="translate( -151.171875, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">added: Vec&lt;MonolithConnectionConfig&gt;</tspan></text><text transform="translate( -151.171875, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">removed: Vec&lt;MonolithConnectionConfig&gt;</tspan></text></g></g><g transform="translate(747.94140625, 536.25)" id="classId-MonolithConnectionManager-4" class="node default"><rect height="192.5" width="580.4609375" y="-96.25" x="-290.23046875" class="outer title-state"/><line y2="-65.75" y1="-65.75" x2="290.23046875" x1="-290.23046875" class="divider"/><line y2="40.25" y1="40.25" x2="290.23046875" x1="-290.23046875" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -106.00390625, -88.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithConnectionManager</tspan></text><text transform="translate( -282.73046875, -54.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">discovery_rx: Receiver&lt;MonolithDiscoveryMsg&gt;</tspan></text><text transform="translate( -282.73046875, -31.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">link: BalancerLink</tspan></text><text transform="translate( -282.73046875, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">monoliths: HashSet&lt;MonolithConnectionConfig&gt;</tspan></text><text transform="translate( -282.73046875, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">connection_tasks: HashMap</tspan></text><text transform="translate( -282.73046875, 47.75)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+new(discovery_rx: Receiver&lt;MonolithDiscoveryMsg&gt;, link: BalancerLink) : Self</tspan></text><text transform="translate( -282.73046875, 70.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">+do_connection_job()</tspan></text></g></g><g transform="translate(747.94140625, 763.5)" id="classId-MonolithConnectionConfig-5" class="node default"><rect height="102.5" width="211.5390625" y="-51.25" x="-105.76953125" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="105.76953125" x1="-105.76953125" class="divider"/><line y2="40.25" y1="40.25" x2="105.76953125" x1="-105.76953125" class="divider"/><g class="label"><text style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve"/></text><text transform="translate( -98.26953125, -43.75)" class="classTitle" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">MonolithConnectionConfig</tspan></text><text transform="translate( -98.26953125, -9.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">host: HostOrIp</tspan></text><text transform="translate( -98.26953125, 13.25)" style=""><tspan class="title-row" x="0" dy="1em" xml:space="preserve">port: u16</tspan></text></g></g><g transform="translate(333.548828125, 320.25)" id="note0" class="node undefined"><rect height="49.5" width="282.4296875" y="-24.75" x="-141.21484375" ry="0" rx="0"/><g transform="translate(-133.71484375, -17.25)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Abstraction over whatever method</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">is actually used to discover Monoliths</tspan></text></g></g></g></g></g></svg>